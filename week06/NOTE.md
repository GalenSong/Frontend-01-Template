# 每周总结可以写在这里

## 有限状态机处理字符串

编程思想
AI、算法、处理字符串、编译原理

### 有限状态机

每一个状态都是一个机器（每个机器独立）
在每台机器里，可以做计算、存储、输出等；
所有机器接收的输入一致；
每个机器本身无状态，纯函数（无副作用）

每个机器知道下一个状态
每个机器有确定的下一状态（Moore）
每个机器根据输入决定下一状态（Mealy）

### js 中的有限状态机（Mealy）

限定状态表示最终结果

abcdef
aabc
abcabx
作业：状态机查找 abababx

状态机匹配未知模式（类似正则）时间复杂度 O(m+n)
function match(pattern, string) {

}
match("ababx", "I am ababx! hhha!")
闭包生成状态
数组缓存

字符串 KMP 算法

状态合并
二重状态

AST 抽象语法树，LR、LL

状态机与状态模式概念不同

generator 实现状态机

## HTML 解析



# CSS computing
## 1. 收集CSS规则
遇到Style标签，收集CSS规则
调用CSS parser解析CSS规则


## 2.添加调用
创建元素时，即调用CSS计算（computeCSS）
理论上，当分析一个元素时，所有CSS规则收集完毕
真实浏览器中，可能遇到写在body的style标签，需要重新计算CSS计算的情况

## 3. 获取父元素序列
必须知道元素的所有父元素才能判断元素与规则是否匹配
因为我们获取的是“当前元素”，所以我们获得和计算父元素的顺序是从内向外

### 4. 拆分选择器

### 5. 计算选择器与元素的匹配
根据选择器的类型和元素属性，计算是否与当前元素匹配


作业（可选）：实现复合选择器，实现支持空格的class选择器

### 6. 生成computed属性
computedStyle

### 7. 确定规则覆盖关系
specificity(规则优先级)


答疑：
